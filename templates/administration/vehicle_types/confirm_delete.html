{% extends 'administration/base_admin.html' %}
{% load static %}

{% block title %}Supprimer le Véhicule - {{ vehicle.plaque_immatriculation }}{% endblock %}

{% block breadcrumbs %}
<a href="{% url 'administration:dashboard' %}" class="breadcrumb">Accueil</a>
<a href="{% url 'administration:vehicle_type_list' %}" class="breadcrumb">Véhicules</a>
<a href="{% url 'administration:vehicle_type_detail' vehicle.plaque_immatriculation %}" class="breadcrumb">{{ vehicle.plaque_immatriculation }}</a>
<span class="breadcrumb">Supprimer</span>
{% endblock %}

{% block content %}
<div class="admin-page-header">
    <div class="row">
        <div class="col s12">
            <h4>Confirmer la Suppression</h4>
            <p class="grey-text">Cette action est irréversible</p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col s12 l8 offset-l2">
        <div class="card">
            <div class="card-content">
                <span class="card-title red-text">
                    <i class="material-icons left">warning</i>
                    Attention
                </span>
                
                <p style="font-size: 1.1rem; margin: 20px 0;">
                    Êtes-vous sûr de vouloir supprimer le véhicule <strong>{{ vehicle.plaque_immatriculation }}</strong> ?
                </p>
                
                <div class="card-panel grey lighten-4">
                    <h6>Informations du véhicule à supprimer :</h6>
                    <ul class="collection">
                        <li class="collection-item">
                            <strong>Plaque :</strong> {{ vehicle.plaque_immatriculation }}
                        </li>
                        <li class="collection-item">
                            <strong>Propriétaire :</strong> {{ vehicle.proprietaire.get_full_name|default:vehicle.proprietaire.username }}
                        </li>
                        <li class="collection-item">
                            <strong>Type :</strong> {{ vehicle.get_type_vehicule_display }}
                        </li>
                        <li class="collection-item">
                            <strong>Catégorie :</strong> {{ vehicle.get_categorie_vehicule_display }}
                        </li>
                    </ul>
                </div>
                
                <div class="card-panel red lighten-5 red-text text-darken-2">
                    <i class="material-icons left">info</i>
                    <strong>Note :</strong> La suppression de ce véhicule supprimera également tous les enregistrements associés (paiements, QR codes, etc.).
                </div>
                
                <form method="post">
                    {% csrf_token %}
                    
                    <div class="card-action right-align">
                        <a href="{% url 'administration:vehicle_type_detail' vehicle.plaque_immatriculation %}" 
                           class="btn-flat waves-effect">
                            <i class="material-icons left">cancel</i>
                            Annuler
                        </a>
                        <button type="submit" class="btn red waves-effect waves-light">
                            <i class="material-icons left">delete</i>
                            Confirmer la suppression
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
