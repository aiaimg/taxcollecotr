{% extends 'velzon/base.html' %}

{% block content %}
<div class="container py-4">
  <div class="alert alert-success">
    <h4 class="alert-heading">Paiement réussi</h4>
    <p>Votre paiement a été confirmé. Le reçu et le QR code de vérification sont disponibles.</p>
  </div>

  {% if paiement %}
  <div class="card">
    <div class="card-body">
      <p><strong>Véhicule:</strong> {{ paiement.vehicule_plaque.plaque_immatriculation }}</p>
      <p><strong>Année fiscale:</strong> {{ paiement.annee_fiscale }}</p>
      <p><strong>Montant payé:</strong> {{ paiement.montant_du_ariary }} Ariary</p>
      {% if paiement.stripe_receipt_url %}
        <p><a href="{{ paiement.stripe_receipt_url }}" target="_blank" class="btn btn-outline-secondary">Voir reçu Stripe</a></p>
      {% endif %}
      <a href="{% url 'payments:download_receipt' pk=paiement.pk %}" class="btn btn-primary">Télécharger le reçu PDF</a>
      <a href="{% url 'payments:qr_generate' pk=paiement.pk %}" class="btn btn-success ms-2">Générer QR Code</a>
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}